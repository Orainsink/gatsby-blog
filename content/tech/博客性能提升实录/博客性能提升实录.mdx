---
categories: tech
description: 对所有依赖进行大更新过后出了一大堆令人头痛的bug，但大部分都已经解决了。剩下的工作就是排查版本迁移导致的性能问题以及水合错误。目前google分析给的评分是手机端30分，桌面端80分，提升空间很大。
date: 2022-12-07 02:31:01
title: 博客性能提升实录
tags: [性能]
---

> 对所有依赖进行大更新过后出了一大堆令人头痛的 bug，但大部分都已经解决了。
> 剩下的工作就是排查版本迁移导致的性能问题以及水合错误。
>
> 目前 google 分析给的评分是手机端 30 分，桌面端 60 分，提升空间很大，但是很难搞到 90 分以上，因为首页的 threejs 和 loader 设计会对评分有很大负面影响。
>
> 另外因为 gatsby 的一个 bug，导致部分 SSR 失效：https://github.com/gatsbyjs/gatsby/issues/36678

## 性能测试

[Web Vitals 指标文档](https://web.dev/vitals/)
[google page insight](https://pagespeed.web.dev/)
[GatsbyJS Core Web Vitals: How To Go Green With Lighthouse v9](https://donovannagel.com/gatsbyjs-core-web-vitals/)

## 移动端

![mobile](./mobile.png)

### FCP

## 桌面端

![desktop](./desktop.png)
