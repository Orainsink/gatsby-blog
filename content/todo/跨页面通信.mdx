---
title: 跨页面通信
date: 2020-12-30 19:25:43
description: 同一域名下多个浏览器Tab页面之间的通信方案探究
tags: [js, react]
categories: tech
---

## 需求

SPA 单页 web 应用是现在前端的趋势，但是不可避免地会存在用户在同一域名多开网页的情况。

现在一个简单的需求：

一个按钮(比如收藏按钮)，多开的页面，实现点击按钮过后多个页面的数据都触发更新。

对于这种需求 我们其实可以选择通过 websocket 或者轮询来做，但是这需要占用较多的网络资源，或者监听浏览器提供的网页 visible 的事件，调取后端接口更新前端，这样也能实现并且网络资源消耗较少，但这里只讨论纯前端的实现方式。

## 浏览器的特性

Chrome 浏览器里同一站点(同一站点有别于同源，它需要协议和根域名和端口都完全相同)下的网页运行在同一个进程，同一进程内的页面我们可以使用浏览器提供的
